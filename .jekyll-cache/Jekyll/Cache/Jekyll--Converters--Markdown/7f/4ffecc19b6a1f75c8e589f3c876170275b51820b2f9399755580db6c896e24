I"ûj<h1 id="interfÃ­cie-dusuari-i-navegaciÃ³">InterfÃ­cie dâ€™usuari i navegaciÃ³</h1>

<p>#Crear IU responsiva amb ConstraintLayout.</p>

<p><a href="https://developer.android.com/reference/androidx/constraintlayout/widget/ConstraintLayout">ConstraintLayout</a> et permet crear dissenys grans i complexos amb una jerarquia de vistes plana (sense grups de vistes niades). Ã‰s similar a <a href="https://developer.android.com/reference/android/widget/RelativeLayout">RelativeLayout</a> quant a que es presenten totes les vistes dâ€™acord amb les relacions entre les vistes del mateix nivell i el disseny de nivell superior, perÃ² Ã©s mÃ©s flexible que RelativeLayout i mÃ©s fÃ cil dâ€™usar amb lâ€™editor de disseny dâ€™Android Studio.</p>

<p>Tota la potÃ¨ncia de ConstraintLayout estÃ  disponible directament des de les eines visuals de lâ€™editor de disseny, ja que la API de disseny i lâ€™editor de disseny es van crear especÃ­ficament per a funcionar en conjunt. AixÃ­, pots crear tot el teu disseny amb ConstraintLayout arrossegant i soltant elements, en lloc dâ€™editar el XML.</p>

<p>En aquesta pÃ gina, sâ€™inclou una guia per a crear un disseny amb ConstraintLayout en Android Studio 3.0 o versions posteriors. Si desitges obtindre mÃ©s informaciÃ³ sobre lâ€™editor de disseny, consulta la <a href="https://developer.android.com/studio/write/layout-editor">guia dâ€™Android Studio sobre Com crear una IU amb lâ€™editor de disseny</a>.</p>

<p>Per a veure una sÃ¨rie de dissenys que pots crear amb ConstraintLayout, consulta el <a href="https://github.com/android/views-widgets-samples/tree/master/ConstraintLayoutExamples">projecte dâ€™exemples de Constraint Layout en GitHub</a>.</p>

<p>https://www.youtube.com/watch?v=XamMbnzI5vE&amp;feature=youtu.be</p>

<h2 id="descripciÃ³-general-de-les-restriccions">DescripciÃ³ general de les restriccions</h2>

<p>Per a definir la posiciÃ³ dâ€™una vista en ConstraintLayout, has <strong>dâ€™agregar almenys una restricciÃ³ horitzontal i una vertical</strong>. Cada restricciÃ³ representa una connexiÃ³ o alineaciÃ³ amb una altra vista, el disseny de nivell superior o una guia invisible. Cada restricciÃ³ defineix la posiciÃ³ de la vista al llarg de lâ€™eix vertical o horitzontal, per la qual cosa cada vista ha de tindre un mÃ­nim dâ€™una restricciÃ³ per a cada eix, encara que sovint es necessiten mÃ©s.</p>

<p>Quan soltes una vista en lâ€™editor de disseny, aquesta roman on la deixes, fins i tot si no tÃ© restriccions. Tanmateix, aixÃ² nomÃ©s serveix per a facilitar lâ€™ediciÃ³. <strong>Si una vista no tÃ© restriccions quan executes el seu disseny en un dispositiu, sâ€™obri en la posiciÃ³ [0,0]</strong> (la cantonada superior esquerra).</p>

<p>En la figura 1, el disseny es veu bÃ© en lâ€™editor, perÃ² no hi ha restricciÃ³ vertical en la vista C. Quan aquest disseny sâ€™obri en un dispositiu, la vista C sâ€™alinea horitzontalment amb les vores esquerre i dret de la vista A, perÃ² apareix en la part superior de la pantalla perquÃ¨ no tÃ© restricciÃ³ vertical.</p>

<p><img src="./images/constraintLayout1.png" alt="constraintlayout1" />
Figura 1: Lâ€™editor mostra la vista C davall de la A, perÃ² no tÃ© restricciÃ³ vertical.</p>

<p><img src="./images/constraintLayout2.png" alt="constraintlayout2" />
Figura 2: La vista C ara tÃ© una restricciÃ³ vertical davall de la vista A</p>

<p>Si bÃ© lâ€™absÃ¨ncia de restriccions no causa errors de compilaciÃ³, lâ€™editor de disseny mostrarÃ  un error en la barra dâ€™eines. Per a veure els errors i altres advertiments, fes clic en <strong>Show Warnings and Errors</strong><img src="./images/errors.png" alt="errors" /> . Per a evitar que falten restriccions, lâ€™editor de disseny pot agregar restriccions automÃ ticament amb les funcions Infer Constraints i Autoconnect.</p>

<h2 id="com-agregar-constraintlayout-al-teu-projecte">Com agregar ConstraintLayout al teu projecte</h2>

<p>Per a usar ConstraintLayout en el teu projecte, segueix aquests passos:</p>

<ul>
  <li>Asseguraâ€™t de tindre el repositori maven.google.com declarat en lâ€™arxiu build.gradle de nivell de mÃ²dul:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>repositories {
	google()
}
</code></pre></div></div>

<ul>
  <li>Agrega la biblioteca com una dependÃ¨ncia en el mateix arxiu build.gradle, com es mostra en el segÃ¼ent exemple. Tingues en compte que lâ€™Ãºltima versiÃ³ pot ser diferent de la que es mostra en lâ€™exemple:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dependencies {
	implementation "androidx.constraintlayout:constraintlayout:2.0.0-rc1"
}
</code></pre></div></div>

<ul>
  <li>En la barra dâ€™eines o notificaciÃ³ de sincronitzaciÃ³, fes clic en Sync Project with Gradle Files.</li>
</ul>

<p>Ja estÃ  tot llest per a crear el disseny amb ConstraintLayout.</p>

<h2 id="com-convertir-un-disseny">Com convertir un disseny</h2>

<p>Per a convertir un disseny existent en un de ConstraintLayout, segueix aquests passos:</p>

<p>Obri el disseny existent en Android Studio i fes clic en la pestanya Design, en la part inferior de la finestra de lâ€™editor.
En la finestra Component Tree, fes clic amb el botÃ³ dret en el disseny i, desprÃ©s, en Convert layout to ConstraintLayout.</p>

<p><img src="./images/convertir.png" alt="convertir" /></p>

<p>Figura 3: MenÃº per a convertir un disseny en ConstraintLayout</p>

<h2 id="com-crear-un-disseny-nou">Com crear un disseny nou</h2>

<p>Per a iniciar un arxiu de disseny amb restriccions nou, segueix aquests passos:</p>

<ul>
  <li>En la finestra Project, fes clic en la carpeta del mÃ²dul i, desprÃ©s, selecciona File &gt; New &gt; XML &gt; Layout XML.</li>
  <li>Ingressa un nom per a lâ€™arxiu de disseny i â€œandroidx.constraintlayout.widget.ConstraintLayoutâ€ en Root Tag.</li>
  <li>Fes clic en Finish.</li>
</ul>

<h2 id="com-agregar-o-llevar-una-restricciÃ³">Com agregar o llevar una restricciÃ³</h2>

<p>Per a agregar una restricciÃ³, fes el segÃ¼ent:</p>

<p><a href="https://developer.android.com/images/training/constraint-layout/constraint-layout-constrain-left.mov"><img src="https://developer.android.com/images/training/constraint-layout/constraint-layout-constrain-left.mov" alt="video creaciÃ³ layout costat esquerre" /></a></p>

<p>El costat esquerre dâ€™una vista estÃ  restringit al costat esquerre de lâ€™element superior</p>

<ol>
  <li>Arrossega una vista des de la finestra Palette fins a lâ€™editor.
Quan agregues una vista en un ConstraintLayout, es mostra un quadre de lÃ­mit amb controladors de canvi de grandÃ ria quadrats en cada cantonada i controladors de restriccions circulars en cada costat.</li>
  <li>Fes clic en la vista per a seleccionar-la.</li>
  <li>Realitza alguna de les segÃ¼ents accions:
    <ul>
      <li>Fes clic en un controlador de restricciÃ³ i arrossegaâ€™l fins a un punt dâ€™ancoratge disponible. Aqueix punt pot ser la vora dâ€™una altra vista, la vora del disseny o una guia. Tingues en compte que, a mesura que arrossegues el controlador de restriccions, lâ€™editor de disseny mostra possibles ancoratges de connexiÃ³ i superposicions (aquestes Ãºltimes en color blau).</li>
      <li>Fes clic en un dels botons de Create <img src="./images/attributesplus.png" alt="botoplus" /> a connection en la secciÃ³ Layout de la finestra Attributes, com es mostra en la figura.
<img src="./images/constraintLayout3.png" alt="botoplus" />
Figura: La secciÃ³ Layout de la finestra Attributes et permet crear connexions.</li>
    </ul>
  </li>
</ol>

<p>Quan es crea la restricciÃ³, lâ€™editor li atorga un marge predeterminat per a separar les dues vistes.</p>

<p>Quan crees restriccions, recorda les segÃ¼ents <strong>regles</strong>:</p>

<ul>
  <li>Cada vista ha de tindre almenys <strong>dues restriccions, una horitzontal i una vertical</strong>.</li>
  <li>Pots crear <strong>restriccions nomÃ©s entre un controlador de restricciÃ³ i un punt dâ€™ancoratge que compartisquen el mateix pla</strong>. Per tant, un pla vertical (els costats esquerre i dret) dâ€™una vista pot limitar-se nomÃ©s a un altre pla vertical; i les lÃ­nies de base nomÃ©s poden limitar-se a altres lÃ­nies de base.</li>
  <li>Cada identificador de restricciÃ³ es pot usar per a una sola restricciÃ³, perÃ² Ã©s possible crear mÃºltiples restriccions (des de diferents vistes) en el mateix punt dâ€™ancoratge.</li>
</ul>

<p>Per a <strong>esborrar</strong> una restricciÃ³, pots optar per alguna de les segÃ¼ents alternatives:</p>

<ul>
  <li>
    <p>Fes clic en una restricciÃ³ per a seleccionar-la i, desprÃ©s, pressiona <strong>Delete</strong>.</p>
  </li>
  <li>
    <p>Mantingues pressionat Control (<em>Command</em> en macOS) i, desprÃ©s, fes clic en un ancoratge de restricciÃ³. Quan la restricciÃ³ es mostra de color roig, pots fer clic per a esborrar-la, com sâ€™ilÂ·lustra en la figura.</p>
  </li>
</ul>

<p><img src="./images/constraintLayout4.png" alt="constraintlayout4" />
Figura: Quan una restricciÃ³ es mostra de color roig, pots fer clic per a esborrar-la</p>

<ul>
  <li>En la secciÃ³ Layout de la finestra Attributes, fes clic en un ancoratge de restricciÃ³, com es mostra en la figura.
<img src="./images/constraintLayout5.png" alt="constraintlayout5" />
Figura: Fes clic en un ancoratge de restricciÃ³ per a esborrar-lo.</li>
</ul>

<p>Si agregues restriccions oposades en una vista, les lÃ­nies de restricciÃ³ es tornen ondulades com un ressort per a indicar les forces oposades, segons es mostra en el vÃ­deo. Lâ€™efecte Ã©s mÃ©s visible quan la grandÃ ria de la vista es defineix com â€œFixedâ€ o â€œWrap contentâ€, i en aquest cas la vista se centra entre les restriccions. Si en canvi desitges que la vista sâ€™expandisca per a ajustar-se a les restriccions, modifica la manera de grandÃ ria a â€œMatch constraintsâ€; finalment, si desitges mantindre la grandÃ ria actual, perÃ² moure la vista perquÃ¨ no estiga centrada, ajusta el biaix (sesgo) de restriccions.</p>

<p><a href="https://developer.android.com/images/training/constraint-layout/constraint-layout-opposing.mov"><img src="https://developer.android.com/images/training/constraint-layout/constraint-layout-opposing.mov" alt="video creaciÃ³ layout costat esquerre" /></a>
VÃ­deo: Com agregar una restricciÃ³ oposada a una existent</p>

<p>Pots usar restriccions per a aconseguir diferents tipus de comportament de disseny, com es descriu en les segÃ¼ents seccions.</p>

<h3 id="posiciÃ³-superior">PosiciÃ³ superior</h3>

<p>Restringeix el costat dâ€™una vista a la vora corresponent del disseny.</p>

<p>En la figura, el costat esquerre de la vista estÃ  connectat a la vora esquerra del disseny de nivell superior. Pots definir la distÃ ncia des de la vora amb marge.</p>

<p><img src="./images/constraintLayout6.png" alt="constraintlayout6" />
Figura: RestricciÃ³ horitzontal de lâ€™element superior</p>

<h3 id="posiciÃ³-dordre">PosiciÃ³ dâ€™ordre</h3>

<p>Defineix lâ€™ordre dâ€™apariciÃ³ de dues vistes, ja siga de manera horitzontal o vertical.</p>

<p>En la figura, la vista B estÃ  restringida a mostrar-se sempre a la dreta de A, i C estÃ  restringida a aparÃ©ixer davall de A. No obstant aixÃ², aquestes restriccions no impliquen alineaciÃ³, per la qual cosa B pot moureâ€™s cap amunt i a baix.</p>

<p><img src="./images/constraintLayout7.png" alt="constraintlayout7" />
Figura: RestricciÃ³ horitzontal i vertical</p>

<h3 id="alineaciÃ³">AlineaciÃ³</h3>

<p>Alinea la vora dâ€™una vista amb la mateixa vora dâ€™una altra vista.</p>

<p>En la figura, el costat esquerre de B estÃ  alineat amb el costat esquerre de A. Si desitges alinear els centres de les vistes, crea una restricciÃ³ en tots dos costats.</p>

<p><img src="./images/constraintLayout8.png" alt="constraintlayout8" /></p>

<p>Pots compensar lâ€™alineaciÃ³ arrossegant la vista des de la restricciÃ³ cap a dintre. Per exemple, en la figura segÃ¼ent, es mostra la vista B amb 24 dp de desplaÃ§ament en lâ€™alineaciÃ³. El desplaÃ§ament estÃ  definit pel marge de la vista restringida.</p>

<p><img src="./images/constraintLayout9.png" alt="constraintlayout9" /></p>

<p>TambÃ© pots seleccionar totes les vistes que vols alinear i, desprÃ©s, fer clic en Align <img src="./images/align.png" alt="align" />en la barra dâ€™eines per a seleccionar el tipus dâ€™alineaciÃ³.</p>

<h3 id="alineaciÃ³-de-lÃ­nia-de-base">AlineaciÃ³ de lÃ­nia de base</h3>

<p>Alinea la lÃ­nia de base de text dâ€™una vista amb la lÃ­nia de base de text dâ€™una altra.</p>

<p>En la figura, la primera lÃ­nia de B estÃ  alineada amb el text de A.</p>

<p>Per a crear una restricciÃ³ de lÃ­nia de base, fes clic amb el botÃ³ dret en la vista de text que desitges restringir i, desprÃ©s, fes clic en <strong>Show Baseline</strong>. DesprÃ©s, fes clic en la lÃ­nia de base de text i arrossega-la fins a una altra lÃ­nia de base.</p>

<p><img src="./images/constraintLayout10.png" alt="constraintlayout10" /></p>

<h3 id="com-aplicar-una-restricciÃ³-a-una-guia">Com aplicar una restricciÃ³ a una guia</h3>

<p>Pots agregar una guia vertical o horitzontal en la qual siga possible restringir les vistes; la guia serÃ  invisible per als usuaris de lâ€™aplicaciÃ³. Pots colÂ·locar la guia dins del disseny segons les unitats de dp o percentatge, en relaciÃ³ amb la vora del disseny.</p>

<p>Per a crear una guia, fes clic en <strong>Guidelines</strong> <img src="./images/guidelines.png" alt="guidelines" /> en la barra dâ€™eines i, desprÃ©s, en <strong>Add Vertical Guideline</strong> o <strong>Add Horitzontal Guideline</strong>.</p>

<p>Arrossega la lÃ­nia puntejada per a canviar la posiciÃ³ i fes clic en el cercle que estÃ  en la vora de la guia a fi dâ€™activar o desactivar la manera de mesurament.</p>

<p><img src="./images/constraintLayout11.png" alt="constraintlayout11" /></p>

<h3 id="com-aplicar-una-restricciÃ³-a-una-barrera">Com aplicar una restricciÃ³ a una barrera</h3>

<p>Com succeeix amb les guies, una barrera Ã©s una lÃ­nia invisible respecte de la qual pots restringir vistes. No obstant aixÃ², la barrera no defineix la seua prÃ²pia posiciÃ³, sinÃ³ que es desplaÃ§a en funciÃ³ de la posiciÃ³ de les vistes que contÃ©. AixÃ² Ã©s Ãºtil si desitges restringir una vista a un conjunt de vistes en lloc dâ€™una vista especÃ­fica.</p>

<p>Per exemple, en la figura es mostra que la vista C estÃ  limitada al costat dret dâ€™una barrera. La barrera sâ€™estableix en lâ€™â€œextremâ€ (o el costat dret en un disseny dâ€™esquerra a dreta) de la vista A i la vista B. Dâ€™aquesta manera, el desplaÃ§ament de la barrera depÃ©n de si el costat dret de la vista A o la vista B Ã©s el que estÃ  mÃ©s a la dreta.</p>

<p><img src="./images/constraintLayout12.png" alt="constraintlayout12" /></p>

<p><img src="./images/constraintLayout13.png" alt="constraintlayout13" /></p>

<p>Per a crear una barrera, segueix aquests passos:</p>

<ol>
  <li>Fes clic en <strong>Guidelines</strong> <img src="./images/guidelines.png" alt="guidelines" /> en la barra dâ€™eines i, desprÃ©s, en <strong>Add Vertical Barrier</strong> o <strong>Add Horitzontal Barrier</strong>.</li>
  <li>En la finestra <strong>Component Tree</strong>, selecciona les vistes que desitges dins de la barrera i arrossega-les fins al component de barrera.</li>
  <li>Selecciona la barrera en <strong>Component Tree</strong>, obri la finestra <strong>Attributes</strong> <img src="./images/atributes.png" alt="atributes" /> i, desprÃ©s, configura la <strong>barrierDirection</strong>.</li>
</ol>

<p>Ara pots crear una restricciÃ³ des dâ€™una altra vista fins a la barrera.</p>

<p>TambÃ© pots restringir a la barrera les vistes que estan dins de la barrera. Dâ€™aquesta manera, pots assegurar-te que totes les vistes de la barrera sempre estiguen alineades entre si, encara que no sÃ pies quina de les vistes serÃ  la mÃ©s llarga o la mÃ©s alta.</p>

<p>TambÃ© pots incloure una guia dins dâ€™una barrera a fi de garantir una posiciÃ³ â€œmÃ­nimaâ€ de la barrera.</p>

<h3 id="com-ajustar-el-biaix-sesgo-de-restriccions">Com ajustar el biaix (<em>sesgo</em>) de restriccions</h3>

<p>Quan agregues una restricciÃ³ a banda i banda dâ€™una vista (i la grandÃ ria de la mateixa dimensiÃ³ Ã©s â€œFixedâ€ o â€œWrap contentâ€), la vista se centra entre les dues restriccions amb un biaix del 50% de manera predeterminada. Per a ajustar el biaix, arrossega el control lliscant en la finestra <strong>Attributes</strong> o arrossega la vista.</p>

<p>En canvi, si vols que la vista sâ€™estire per a ajustar-se a les restriccions, canvia la grandÃ ria a â€œMatch constraintsâ€.</p>

<h3 id="com-ajustar-la-grandÃ ria-de-la-vista">Com ajustar la grandÃ ria de la vista</h3>

<p>Pots usar els controladors de les cantonades per a canviar la grandÃ ria dâ€™una vista, perÃ² aquesta acciÃ³ fixa la grandÃ ria dins del codi a fi que la vista no canvie de grandÃ ria per a diferents continguts o grandÃ ries de pantalla. Si vols seleccionar una manera de grandÃ ria diferent, fes clic en una vista i obri la finestra <strong>Attributes</strong> <img src="./images/atributes.png" alt="atributes" /> en el costat dret de lâ€™editor.</p>

<p>Prop de la part superior de la finestra <strong>Attributes</strong>, es troba lâ€™inspector de vistes, que inclou controls per a diversos atributs de disseny, com es mostra en la figura (disponible solo per a vistes en un disseny de restriccions).</p>

<p><img src="./images/constraintLayout14.png" alt="constraintlayout14" />
Figura 14</p>

<p>Per a canviar la forma en quÃ¨ es calculen lâ€™altura i lâ€™ample, fes clic en els sÃ­mbols que sâ€™indiquen amb la llegenda 3 en la figura. Els sÃ­mbols representen la mode de grandÃ ria de la segÃ¼ent manera (fes clic en el sÃ­mbol per a alternar entre les diferents configuracions):</p>

<ul>
  <li><img src="./images/fixed.png" alt="fixed" /> <strong>Fixed</strong>: Has de definir una dimensiÃ³ especÃ­fica en el quadre de text de baix o canviar la grandÃ ria de la vista en lâ€™editor.</li>
  <li><img src="./images/wrap.png" alt="wrap" /> <strong>Wrap Content</strong>: La vista sâ€™expandeix nomÃ©s el necessari per a ajustar-se al seu contingut.</li>
  <li><img src="./images/match.png" alt="match" /> <strong>Match Constraints</strong>: La vista sâ€™expandeix tant com siga possible per a ajustar-se a les restriccions de cada costat (desprÃ©s de restar els marges de la vista). No obstant aixÃ², pots modificar aqueix comportament amb els segÃ¼ents atributs i valors (aquests atributs nomÃ©s tenen efecte quan estableixes que lâ€™ample de la vista coincidisca amb les restriccions):
    <ul>
      <li><strong>layout_constraintWidth_default</strong>
        <ul>
          <li><strong>spread</strong>: Expandeix la vista tant com siga possible per a ajustar-la a les restriccions de cada costat. Aquest Ã©s el comportament predeterminat.</li>
          <li>wrap: Expandeix la vista nomÃ©s el necessari per a ajustar el seu contingut, perÃ² permet que siga mÃ©s xicoteta si les restriccions el requereixen. Per tant, la diferÃ¨ncia entre aixÃ² i usar Wrap Content (a dalt) Ã©s que, quan sâ€™estableix lâ€™ample en Wrap Content, sempre ha de coincidir exactament amb lâ€™ample del contingut; dâ€™altra banda, quan sâ€™usa Match Constraints amb layout_constraintWidth_default establit en wrap, tambÃ© es permet que la vista siga mÃ©s xicoteta que lâ€™ample del contingut.</li>
        </ul>
      </li>
      <li><strong>layout_constraintWidth_min</strong>: Presa una dimensiÃ³ en dp per a lâ€™ample mÃ­nim de la vista.</li>
      <li><strong>layout_constraintWidth_max</strong>: Presa una dimensiÃ³ en dp per a lâ€™ample mÃ xim de la vista.</li>
    </ul>
  </li>
</ul>

<p>No obstant aixÃ², si la dimensiÃ³ determinada tÃ© una sola restricciÃ³, la vista sâ€™expandeix per a ajustar-se al seu contingut. Lâ€™Ãºs dâ€™aquesta manera en lâ€™ample o lâ€™altura tambÃ© et permet establir una proporciÃ³ de grandÃ ria.</p>

<blockquote>
  <p>Nota: No pots usar match_parent per a cap vista en un ConstraintLayout. En canvi, has dâ€™usar â€œMatch Constraintsâ€ (0dp).</p>
</blockquote>

<h3 id="establiment-de-la-grandÃ ria-com-a-proporciÃ³">Establiment de la grandÃ ria com a proporciÃ³</h3>

<p>Pots establir la grandÃ ria de la vista en una proporciÃ³, com 16:9, si almenys una de les dimensions de la vista estÃ  configurada com â€œMatch Constraintsâ€ (0dp). Per a habilitar la proporciÃ³, fes clic en <strong>Toggle Aspect RÃ tio Constraint</strong> (llegenda 1 en la figura anterior) i, desprÃ©s, ingressa la proporciÃ³ dâ€™ample:altura en lâ€™entrada que es mostra.</p>

<p>Si tant lâ€™ample com lâ€™altura estan configurats per a ajustar-se a les restriccions, pots fer clic en <strong>Toggle Aspect RÃ tio Constraint</strong> a fi de seleccionar quina dimensiÃ³ es basa en una proporciÃ³ de lâ€™altra. Lâ€™inspector de vistes connecta les vores corresponents amb una lÃ­nia contÃ­nua per a indicar quina vista sâ€™estableix com a proporciÃ³.</p>

<p>Per exemple, si estableixes tots dos costats com â€œMatch Constraintsâ€, fes clic en <strong>Toggle Aspect RÃ tio Constraint</strong> dues vegades per a definir lâ€™ample com a proporciÃ³ de lâ€™altura. Ara la grandÃ ria total depÃ©n de lâ€™altura de la vista (que es pot definir de qualsevol forma), com es mostra en la figura.</p>

<p><img src="./images/constraintLayout15.png" alt="constraintlayout15" /></p>

<h3 id="com-ajustar-els-marges-de-la-vista">Com ajustar els marges de la vista</h3>

<p>Per a assegurar-te que totes les vistes estiguen espaiades de manera uniforme, fes clic en Margin <img src="./images/margin.png" alt="Margin" /> en la barra dâ€™eines a fi de seleccionar el marge predeterminat per a cada vista que agregues al disseny. Qualsevol canvi que realitzes en el marge predeterminat sâ€™aplicarÃ  nomÃ©s a les vistes que agregues a partir dâ€™aqueix moment.</p>

<p>Per a controlar el marge de cada vista en la finestra Attributes, fes clic en el nÃºmero de la lÃ­nia que representa cada restricciÃ³ (en la figura 14, la llegenda 4 mostra que es va establir el marge inferior en 16 dp).</p>

<p><img src="./images/margin2.png" alt="Margin 2" /></p>

<p>Tots els marges que ofereix lâ€™eina sÃ³n factors de 8 dp, la qual cosa tâ€™ajudarÃ  a alinear les vistes amb les recomanacions de quadrÃ­cula quadrada de 8 dp de Material Design.</p>

<h3 id="com-controlar-grups-lineals-amb-una-cadena">Com controlar grups lineals amb una cadena</h3>

<p><img src="./images/constraintLayout16.png" alt="constraintlayout16" /></p>

<p>Una cadena Ã©s un grup de vistes que estan vinculades entre si amb restriccions de posiciÃ³ bidireccionals. Dins dâ€™una cadena, es poden distribuir les vistes de manera horitzontal o vertical.</p>

<p><img src="./images/constraintLayout17.png" alt="constraintlayout17" /></p>

<p>Les cadenes es poden dissenyar dâ€™una de les segÃ¼ents maneres:</p>

<ol>
  <li><strong>Spread</strong>: Les vistes es distribueixen uniformement (desprÃ©s de restar els marges). Ã‰s el valor predeterminat.</li>
  <li><strong>Spread inside</strong>: La primera i lâ€™Ãºltima vista es fixen a les restriccions de cada extrem de la cadena i la resta es distribueix de manera uniforme.</li>
  <li><strong>Weighted</strong>: Quan es defineix la cadena com spread o spread inside, pots configurar una o mÃ©s vistes com â€œMatch Constraintsâ€ (0dp) per a omplir lâ€™espai restant. De manera predeterminada, es distribueix lâ€™espai uniformement entre les vistes configurades com â€œMatch Constraintsâ€, perÃ² pots assignar una ponderaciÃ³ dâ€™importÃ ncia a cada vista amb els atributs <strong>layout_constraintHorizontal_weight</strong> i <strong>layout_constraintVertical_weight</strong>. AixÃ² funciona de la mateixa manera que layout_weight en un <a href="https://developer.android.com/guide/topics/ui/layout/linear">disseny lineal</a>. Per tant, la vista amb el valor de ponderaciÃ³ mÃ©s alt obtÃ© la major quantitat dâ€™espai; les vistes que tinguen la mateixa ponderaciÃ³ obtindran la mateixa quantitat dâ€™espai.</li>
  <li><strong>Packed</strong>: Sâ€™agrupen les vistes (una vegada que es resten els marges). DesprÃ©s pots ajustar el biaix de tota la cadena (esquerra/dreta o a dalt/a baix) canviant el biaix de la vista dâ€™extrem de la cadena.</li>
</ol>

<p>La vista de â€œextremâ€ de la cadena (la situada mÃ©s a lâ€™esquerra en una cadena horitzontal i mÃ©s amunt en una cadena vertical) defineix lâ€™estil de la cadena en XML. No obstant aixÃ², pots seleccionar qualsevol vista en la cadena <img src="./images/cadena.png" alt="cadena" /> i fer clic en el botÃ³ de la cadena que apareix davall de la vista per a alternar entre <strong>Spread</strong>, <strong>Spread inside</strong> i <strong>Packed</strong>.</p>

<p>Per a crear una cadena, selecciona totes les vistes que sâ€™inclouran en ella, fes clic amb el botÃ³ dret en una de les vistes, selecciona <strong>Chains</strong> i, desprÃ©s, <strong>Center Horizontally</strong> o <strong>Center Vertically</strong>, com es mostra en el vÃ­deo:</p>

<p><a href="https://developer.android.com/images/training/constraint-layout/constraint-layout-chain.mov"><img src="https://developer.android.com/images/training/constraint-layout/constraint-layout-chain.mov" alt="video creaciÃ³ layout costat esquerre" /></a></p>

<p>A continuaciÃ³, sâ€™esmenten altres qÃ¼estions que has de tindre en compte quan uses cadenes:</p>

<ul>
  <li>Una vista pot formar part dâ€™una cadena horitzontal i dâ€™una cadena vertical, la qual cosa facilita la creaciÃ³ de dissenys de quadrÃ­cula flexibles.</li>
  <li>La cadena funciona correctament nomÃ©s si cada extrem estÃ  restringit a un altre objecte en el mateix eix, com es mostra en la figura 14.</li>
  <li>Encara que lâ€™orientaciÃ³ dâ€™una cadena Ã©s vertical o horitzontal, quan se lâ€™usa no sâ€™alineen les vistes en aqueixa direcciÃ³. Per tant, has dâ€™assegurar-te dâ€™incloure altres restriccions per a aconseguir la posiciÃ³ adequada de cada vista en la cadena, com a restriccions dâ€™alineaciÃ³.</li>
</ul>

<h3 id="com-crear-restriccions-automÃ ticament">Com crear restriccions automÃ ticament</h3>

<p>En lloc dâ€™agregar restriccions a cada vista a mesura que les colÂ·loques en el disseny, pots moure cada vista a les posicions que desitges i, desprÃ©s, fer clic en Infer Constraints per a crear restriccions de manera automÃ tica.</p>

<p>Infer Constraints analitza el disseny a fi de determinar el conjunt de restriccions mÃ©s efectiu per a totes les vistes. La seua tasca Ã©s restringir les vistes a les seues posicions actuals i, al mateix temps, brindar flexibilitat. Possiblement has de realitzar alguns ajustos per a assegurar-te que el disseny responga com ho desitges davant diferents grandÃ ries de pantalla i orientacions.</p>

<p>Autoconnect to parent Ã©s una funciÃ³ separada que tambÃ© pots habilitar. Si lâ€™habilites, quan agregues vistes secundÃ ries a una superior, aquesta funciÃ³ crearÃ  automÃ ticament dues o mÃ©s restriccions per a cada vista a mesura que les agregues al disseny, perÃ² nomÃ©s quan siga apropiat restringir la vista al disseny de nivell superior. La connexiÃ³ automÃ tica no crea restriccions per a altres vistes del disseny.</p>

<p>La connexiÃ³ automÃ tica estÃ  inhabilitada de manera predeterminada. Per a habilitar-la, fes clic en Enable Autoconnection to Parent en la barra dâ€™eines de lâ€™editor de disseny.</p>

<p><a href="../..">back</a></p>
:ET