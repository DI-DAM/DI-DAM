I"‚8<h1 id="java-fx---formes-3d">Java FX - Formes 3D</h1>

<p>JavaFX ens permet crear formes tridimensionals. Existeixen les classes definides en el paquet javafx.scene.shape que proporciona tots els m√®todes per a tractar amb les formes 3D. Aquestes classes s√≥n Box, Cylinder and sphere. La classe Shape3D del paquet javafx.scene.shape √©s la classe base de totes les classes de formes 3D en javafx.</p>

<h2 id="qu√®-√©s-la-forma-3d">Qu√® √©s la forma 3D?</h2>

<p>Una forma tridimensional es pot definir com un objecte geom√®tric s√≤lid que es dibuixar√† en el sistema de coordenades XYZ. Les formes 3D s√≥n diferents de les formes 2D en el sentit que les formes 3D sempre necessiten tindre un valor extra de coordenades Z per a poder ser dibuixades en un sistema de coordenades.</p>

<p>Exemples de maneres 3D s√≥n cilindres, esferes, caixes, cubs, pir√†mides, etc. No obstant aix√≤, JavaFX proporciona classes per a crear esferes, cilindres i caixes.</p>

<h2 id="tipus-de-formes-3d-en-javafx">Tipus de formes 3D en JavaFX</h2>

<ol>
  <li>
    <p>Formes 3D predefinides</p>

    <p>Hi ha algunes classes de formes 3D predefinides proporcionades per JavaFX que s√≥n Cylinder, Sphere i Box. Nom√©s necessitem crear una inst√†ncia d‚Äôaquestes classes per a crear aquestes formes en la pantalla. Les classes contenen diverses propietats i m√®todes que s‚Äôhan d‚Äôutilitzar per a crear les formes adequades.</p>
  </li>
  <li>
    <p>Formes 3D definides per l‚Äôusuari</p>

    <p>JavaFX proporciona la classe javafx.scene.shape.TriangleMesh que est√©n la classe abstracta javafx.scene.shape.Mesh. Aquesta classe facilita a l‚Äôusuari definir els seus propis punts, coordenades de textura i cares com a propietats de la classe.</p>
  </li>
</ol>

<h2 id="passos-per-a-crear-formes-3d-en-javafx">Passos per a crear formes 3D en JavaFX</h2>

<p>Com esmentem anteriorment, existeixen diferents classes per a les diferents formes 3D en JavaFX. Nom√©s necessitem instanciar aqueixes classes per a crear les formes 3D adequades. Utilitza els seg√ºents passos per a la creaci√≥ de formes 3D en JavaFX.</p>

<ol>
  <li>Creu una inst√†ncia de la classe de formes 3D respectiva que volem crear, per exemple,</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Box box = new Box();
</code></pre></div></div>

<ol>
  <li>Establisca les propietats de la classe. Per exemple;
~~~</li>
</ol>

<p>box.setHeight(100.0);
box.setDepth(50.0);
box.setWidth(70.0);</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    
3. Configure la cambra per a l'escena. Encara que, no √©s necessari configurar la c√†mera per a crear l'efecte 3D, per√≤ proporciona una determinada posici√≥ per a la vista de la c√†mera. Aix√≤ pot fer-se de la seg√ºent manera.

</code></pre></div></div>
<p>PerspectiveCamera camera = new PerspectiveCamera();
camera.setTranslateX(100.0);
camera.setTranslateY(50.0);
camera.setTranslateZ(-90);
scene.setCamera(camera)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
4. Agregue el quadre al gr√†fic d'escena i establisca les propietats adequades per a l'escena i l'escenari.

</code></pre></div></div>
<p>Group root = new Group();
root.getChildren().add(box);
Scene scene = new Scene(root,500,400);
primaryStage.setScene(scene);
primaryStage.setTitle(‚ÄúBox Example‚Äù);
primaryStage.show();</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Les classes de formes 3D proporcionades pel paquet javafx.scene.shape es descriuen a continuaci√≥.

1 **Box**: En general, una caixa es pot definir com una forma tridimensional que t√© totes les cares en forma rectangular. Les tres dimensions de Box s√≥n altura, ample i profunditat. En JavaFX, el classjavafx.scene.shape.Box representa Box.
2 **Cylinder**: Un cilindre es pot definir com un s√≤lid tridimensional que t√© dues bases circulars paral¬∑leles connectades per una superf√≠cie corba. T√© les dues propietats principals com a r√†dio i altura. En JavaFX, la classe javafx.scene.shape.Cylinder representa el cilindre.
3 **Sphere**: Una esfera es pot definir com un objecte 3D s√≤lid perfectament red√≥. En JavaFX, l'esfera est√† representada per la classe javafx.scene.shape.Sphere.

## 3D Object Properties

JavaFX ens permet configurar les diferents propietats dels objectes 3D. Hi ha classes especials definides per a cada propietat en JavaFX. 

### Cull Face

La selecci√≥ es pot definir simplement com el proc√©s d'eliminar la part dels objectes 3D que no s√≥n visibles en l'√†rea de visualitzaci√≥. En JavaFX, les formes 3D contenen la propietat del tipus CullFace. Aquesta propietat es pot establir en un valor apropiat utilitzant el seg√ºent m√®tode d'inst√†ncia que es dir√† en l'objecte de classe de manera 3D.

`setCullFace(CullFace value)`

Hi ha tres tipus de tra√ßos definits en la classe CullFace que s√≥n:

1. None: no es realitza el l'eliminaci√≥
2. Front: tots els pol√≠gons que miren al capdavant s'eliminen
3. Back: tots els pol√≠gons que miren cap endarrere s'eliminen

![cull](./images/cull.png)

### Material d'objecte 3D

JavaFX proporciona diferents tipus de material que es poden aplicar a la superf√≠cie d'una forma 3D. La classe Material del paquet javafx.scene.paint proporciona totes les classes per a tractar amb el material d'una forma 3D. La classe **PhongMaterial** √©s la subclasse de la classe Material. Nom√©s necessitem crear una inst√†ncia d'aquesta classe per a crear el material desitjat.

Aquesta classe proporciona diversos tipus de materials com a propietats d'aquesta classe que es poden establir en un cert valor utilitzant els m√®todes setter. No obstant aix√≤, el material es pot aplicar a una forma utilitzant el seg√ºent m√®tode.

</code></pre></div></div>
<p>shape.setMaterial(<material-type>)</material-type></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
![material](./images/material.png)

- Propietats

    - **setBumpMap(Image URL)**: Aquesta propietat √©s del tipus Image. Aix√≤ representa el mapa de relleu del material.
    - **setDiffuseColor(Color color)** Aquesta √©s una propietat de tipus de color. Aix√≤ representa el color dif√∫s del material.
    - **setDiffuseMap(Image URL)** Aquesta √©s una propietat de tipus d'imatge. Aix√≤ representa el DiffuseMap del material.
    - **setSelfIlluminationMap(Image URL)** Aquesta √©s una propietat de tipus Image. Aix√≤ representa el mapa de autoiluminaci√≥n del conjunt de materials. 
    - **setSpecularColor(Color value)** Aquesta √©s una propietat de tipus de color. Aix√≤ representa el color especular del material.
    - **setSpecularPower(Double value)** Aquesta √©s una propietat de tipus doble. Aix√≤ representa el poder especular del Material.

### Modes de dibuix (Draw Mode)

JavaFX proporciona diverses maneres de dibuix per a dibuixar les formes 3D. Aquesta propietat √©s del tipus DrawMode. Els seg√ºents tipus de DrawMode es defineixen en la classe.

- **Fill**: aquesta manera dibuixa i emplena la forma 3D. Est√† representat per DrawMode.Fill
- **Line**: aquesta manera dibuixa la forma 3D usant nom√©s l√≠nies. Est√† representat per DrawMode.Line

Utilitza el seg√ºent m√®tode d'establiment per a establir una manera de dibuix per a la forma 3D.

</code></pre></div></div>
<p>Shape3D.setDrawMode (<valor de="" DrawMode="">)</valor></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
![drawmode](./images/drawmode.png)

### C√†mera JavaFX

En JavaFX, la c√†mera es tracta com un objecte que es pot moure al voltant d'un disseny 3D i canviar la vista de l'escena en conseq√º√®ncia. La classe javafx.scene.Camera representa camera. No obstant aix√≤, √©s diferent d'un espai 2D on no necessitem moure la c√†mera per la pantalla.

En JavaFX, el sistema de coordenades de la cambra, la coordenada X apunta a la dreta, la coordenada Y apunta cap avall i la coordenada Z apunta cap a fora de l'espectador o cap a la pantalla.

Per a crear una c√†mera i agregar-la a l'escena, hem d'usar les seg√ºents l√≠nies de codi.

// creant la inst√†ncia de javafx.scene.Camera

</code></pre></div></div>
<p>Camera  camera = new Camera();</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// configurar la c√†mera a 50 en la direcci√≥ X correcta

</code></pre></div></div>
<p>camera.setTranslateX(50);</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// configurar la c√†mera a 50 en la direcci√≥ Y correcta

</code></pre></div></div>
<p>camera.setTranslateY(100);</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// configurar la c√†mera a 20 en la pantalla

</code></pre></div></div>
<p>camera.setTranslateZ(20);</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// Afegint la c√†mera a l'escena

</code></pre></div></div>
<p>scene.setCamera(c√†mera);</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Subescena de JavaFX

Un node de subescena es pot definir com un contenidor que pot contindre algun node de l'escena per al qual es necessita especificar l'angle de la c√†mera. S'utilitza per a la separaci√≥ d'escenes. Podem usar el node de la subescena si necessitem configurar una cambra diferent per a una part de l'escena. La subescena es pot utilitzar en un dels seg√ºents casos.

1. Si necessitem una cambra est√†tica (superposici√≥) per als controls de la interf√≠cie d'usuari que estem usant en la nostra escena.
2. Y-up per als objectes 3D i Y-down per a la interf√≠cie d'usuari 2D.
3. Material de base per al fons

Utilitza la seg√ºent sintaxi per a crear una inst√†ncia d'una subescena.

</code></pre></div></div>
<p>SubScene <reference> = new SubScene(Parent root, double width, double height, boolean depthbuffer, boolean antiAliasing)
~~~</reference></p>

<h2 id="box">Box</h2>

<p>En general, una caixa es pot definir com la forma tridimensional que t√© totes les cares en forma rectangular. Les caixes s√≥n generalment el cuboide que t√© tres dimensions d‚Äôaltura, profunditat i ampl√†ria. En JavaFX, box est√† representat per la classe javafx.scene.shape.Box. Nom√©s necessitem crear una inst√†ncia d‚Äôaquesta classe per a crear la caixa.</p>

<p>L‚Äôaltura, l‚Äôample i la profunditat d‚Äôun poal (caixa) es mostren en la seg√ºent imatge.</p>

<p><img src="./images/box.png" alt="box" /></p>

<ul>
  <li>
    <p>Propietats</p>

    <ul>
      <li><strong>setDepth(double value)</strong>: √âs una propietat de tipus doble. Representa la dimensi√≥ z de la caixa.</li>
      <li><strong>setHeight(double value)</strong>: √âs una propietat de tipus doble. Representa la dimensi√≥ Y de la caixa.</li>
      <li><strong>setWidth(double value)</strong>: √âs una propietat de tipus doble. Representa la dimensi√≥ X de la caixa.</li>
    </ul>
  </li>
  <li>
    <p>Constructors</p>
  </li>
</ul>

<p>La classe cont√© dos constructors que es descriuen a continuaci√≥.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- **Box()**: crea la inst√†ncia de la classe Box amb els par√†metres predeterminats.
- **Box(double width, double height, double depth)**: crea la inst√†ncia de la classe Box amb les dimensions especificades
</code></pre></div></div>

<p><img src="./images/box2.png" alt="box2" /></p>

<h2 id="cylinder">Cylinder</h2>

<p>En general, un cilindre es pot definir com un objecte s√≤lid tridimensional que t√© dues bases circulars paral¬∑leles connectades per una superf√≠cie corba. Existeixen dos par√†metres principals que descriuen un cilindre, a saber, l‚Äôaltura de la superf√≠cie corba i el radi de la base circular.</p>

<p>El radi i l‚Äôaltura d‚Äôun cilindre es mostren en la seg√ºent imatge.</p>

<p><img src="./images/cilindre.png" alt="cilindre" /></p>

<p>En JavaFX, la classe javafx.scene.shape.Cylinder representa un cilindre. Nom√©s necessitem crear una inst√†ncia d‚Äôaquesta classe per a crear un cilindre.</p>

<ul>
  <li>
    <p>Propietats</p>

    <ul>
      <li><strong>setHeight(double value)</strong>: √âs una propietat de tipus doble. Representa la dimensi√≥ Z del cilindre.</li>
      <li><strong>setRadius(double value)</strong>: √âs una propietat de tipus doble. Representa el radi del cilindre.</li>
    </ul>
  </li>
  <li>
    <p>Constructors</p>
  </li>
</ul>

<p>Hi ha tres constructors en la classe.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- **Cylinder()**: crea la nova inst√†ncia amb els par√†metres predeterminats.
- **Cylinder(double radius, double height)**: crea la nova inst√†ncia amb el radi i l'altura especificats.
- **Cylinder(double radius, double height, int divisions)**: crea la nova inst√†ncia amb el radi, l'altura i les divisions especificades.
</code></pre></div></div>

<p><img src="./images/cilindre2.png" alt="cilindre" /></p>

<h2 id="sphere">Sphere</h2>

<p>En general, l‚Äôesfera es pot definir com un objecte 3D red√≥ amb tots els punts de la seua superf√≠cie equidistants del seu centre. Una esfera pot veure‚Äôs com un Cercle creat en un pla tridimensional on cada coordenada cont√© una dimensi√≥ Z addicional.</p>

<p>Els exemples de Sphere en el m√≥n real s√≥n globus, bola, etc. En JavaFX, Sphere est√† representat per la classe javafx.scene.shape.Sphere. Nom√©s necessitem crear una inst√†ncia d‚Äôaquesta classe per a crear l‚Äôesfera. Una esfera es mostra en la seg√ºent imatge.</p>

<p><img src="./images/esfera.png" alt="esfera" /></p>

<ul>
  <li>
    <p>Propietats</p>

    <ul>
      <li><strong>SetRadius(double radius)</strong>: √âs una propietat de tipus doble. Representa el radi de l‚Äôesfera.</li>
    </ul>
  </li>
  <li>
    <p>Constructors</p>

    <ul>
      <li><strong>Sphere()</strong>: crea una nova inst√†ncia d‚Äôesfera de radi 1.0</li>
      <li><strong>Sphere(double radius)</strong>: crea una nova inst√†ncia d‚Äôesfera amb el radi especificat.</li>
      <li><strong>Sphere(double radius, int divisions)</strong>: crea una nova inst√†ncia d‚Äôesfera amb el radi i les divisions especificats.</li>
    </ul>
  </li>
</ul>

<p><img src="./images/esfera2.png" alt="esfera2" /></p>

<p><a href="../../javafx.html">back</a></p>
:ET